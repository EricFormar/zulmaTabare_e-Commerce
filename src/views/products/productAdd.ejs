<%-include('../partials/head') %>

<body>
    <%-include('../partials/header') %>


    <main>
        
    <div class="container">

        <h1 class="text-center mb-4">Agregar producto</h1>
        <form action="/products/add" method="POST" enctype="multipart/form-data" class="w-50 mx-auto">
            
            <div class="form-group mb-3">
                <label for="product_name">Nombre del Producto:</label>
                <input type="text" class="form-control" id="product_name" name="product_name" required>
            </div>
            <div class="form-group mb-3">
                <label for="product_description">Descripción:</label>
                <textarea class="form-control" id="product_description" name="product_description" required></textarea>
            </div>
            <div class="form-group mb-3">
                <label for="image">Imagen:</label>
                <input type="file" class="form-control" id="image" name="image" required>
            </div>
            <div class="form-group mb-3">
                <label for="category">Categoría:</label>
                <select class="form-control" id="category" name="category_id" required>
                    <option value="" disabled selected>Selecciona una categoría</option>
                    <% if (Categories && Categories.length > 0) { %>
                        <% Categories.forEach(category => { %>
                            <option value="<%= category.category_id %>"><%= category.category_name %> - <%= category.category_id %></option>
                        <% }); %>
                    <% } else { %>
                        <option value="" disabled>No hay categorías disponibles</option>
                    <% } %>
                </select>
            </div>
            <div class="form-group mb-3">
                <label for="features">Características:</label>
                <input type="text" class="form-control" id="features" name="features" required>
            </div>
            <div class="form-group mb-3">
                <label>Colores Disponibles:</label><br>
                <% if (availableColors && availableColors.length > 0) { %>
                    <% availableColors.forEach(color => { %>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" id="color-<%= color.color_id %>" name="colors" value="<%= color.color_name %>">
                            <label class="form-check-label" for="color-<%= color.color_id %>"><%= color.color_name %></label>
                        </div>
                    <% }); %>
                <% } else { %>
                    <p>No hay colores disponibles.</p>
                <% } %>
            </div>
            <div class="form-group mb-3">
                <label for="price">Precio:</label>
                <input type="number" class="form-control" id="price" name="price" step="0.01" required>
            </div>
            <button type="submit" class="btn btn-primary mx-auto" style="max-width: 150px;">Agregar Producto</button>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</main>
</body>
</html>
